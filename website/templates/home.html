{% extends 'base.html' %}

{% block content %}

{% if user.is_authenticated %}

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="thead-dark">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Serial Number</th>
        <th scope="col">Name</th>
        <th scope="col">Description</th>
        <th scope="col">Quantity</th>
        <th scope="col">Location</th>
        <th scope="col">Created At</th>
      </tr>
    </thead>
    <tbody>
      {% if records %}
        {% for record in records %}
          <tr>
            <td><a href="{% url 'record' record.id %}">{{ record.id }}</a></td>
            <td>{{ record.serial_num }}</td>
            <td>{{ record.name }}</td>
            <td>{{ record.desc }}</td>
            <td>{{ record.quant }}</td>
            <td>{{ record.location }}</td>
            <td>{{ record.created_at }}</td>
          </tr>
        {% endfor %}
      {% endif %}
    </tbody>
  </table>
</div>

{% else %}

<div class="col-md-6 offset-md-3">
  <h1 style="color: var(--primary-color);">Login</h1>
  <br/>
  <form method="POST" action="{% url 'home' %}" style="background-color: var(--secondary-color); padding: 20px; border-radius: 8px;">
    {% csrf_token %}
    <div class="mb-3">
      <input type="text" class="form-control" name="username" placeholder="Username" required>
    </div>
    <div class="mb-3">
      <input type="password" class="form-control" name="password" placeholder="Password" required>
    </div>
    <button type="submit" class="btn" style="background-color: var(--accent-color); color: var(--primary-color);">Login</button>
  </form>
</div>

{% endif %}

{% endblock %}
